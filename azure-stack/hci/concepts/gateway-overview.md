---
title: Azure Stack HCI での RAS ゲートウェイの概要
description: このトピックでは、Azure Stack HCI でのソフトウェアによるネットワーク制御に対する RAS ゲートウェイについて説明します。
author: khdownie
ms.author: v-kedow
ms.topic: overview
ms.service: azure-stack
ms.subservice: azure-stack-hci
ms.date: 10/8/2020
ms.openlocfilehash: a7f05f7e07960e83681a13c92f4653b0993668de
ms.sourcegitcommit: 1621f2748b2059fd47ccacd48595a597c44ee63f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/08/2020
ms.locfileid: "91858994"
---
# <a name="what-is-ras-gateway-for-software-defined-networking"></a>ソフトウェアによるネットワーク制御に対する RAS ゲートウェイの概要

> 適用対象: Azure Stack HCI バージョン 20H2、Windows Server 2019

リモート アクセス サービス (RAS) ゲートウェイは、Hyper-V ネットワーク仮想化 (HNV) を使用してマルチテナント仮想ネットワークをホストするクラウド サービス プロバイダー (CSP) および企業向けに設計された、ソフトウェアベースの Border Gateway Protocol (BGP) 対応ルーターです。 RAS ゲートウェイを使用すると、仮想ネットワークと別のネットワーク (ローカルまたはリモート) の間で、ネットワーク トラフィックをルーティングすることができます。

RAS ゲートウェイを使用するには、ゲートウェイ プールの展開を実行し、各ゲートウェイでテナント接続を構成し、ゲートウェイで障害が発生した場合にネットワーク トラフィック フローをスタンバイ ゲートウェイに切り替える、[ネットワーク コントローラー](network-controller-overview.md)が必要です。

  > [!NOTE]
  > マルチテナントは、複数のテナントの仮想マシン (VM) ワークロードをサポートするための、クラウド インフラストラクチャの機能であり、ワークロードは互いに分離されますが、すべて同じインフラストラクチャ上で実行されます。 個別のテナントの複数のワークロードは相互接続でき、リモートで管理できますが、これらのシステムが他のテナントのワークロードと相互接続したり、他のテナントがこれらをリモートで管理したりすることはできません。

## <a name="ras-gateway-features"></a>RAS ゲートウェイの機能

RAS ゲートウェイを使用すると、仮想プライベート ネットワーク (VPN)、トンネリング、転送、動的ルーティングに関するさまざまな機能が提供されます。

### <a name="site-to-site-ipsec-vpn"></a>サイト間 IPsec VPN

RAS ゲートウェイのこの機能を使用すると、サイト間 (S2S) 仮想プライベート ネットワーク (VPN) 接続を使用して、物理的に異なる場所にある 2 つのネットワークをインターネット経由で接続することができます。 この接続は、IKEv2 VPN プロトコルを使用して暗号化されます。

データセンターで多数のテナントをホストする CSP の場合は、RAS ゲートウェイにより、マルチテナント ゲートウェイ ソリューションが提供されます。これにより、テナントはリモート サイトからサイト間 VPN 接続を介してリソースにアクセスし、管理することができます。 RAS ゲートウェイを使用すると、データセンターの仮想リソースとそれらの物理ネットワークの間をネットワーク トラフィックが流れられるようになります。

### <a name="site-to-site-gre-tunnels"></a>サイト間 GRE トンネル

Generic Routing Encapsulation (GRE) に基づくトンネルを使用すると、テナントの仮想ネットワークと外部ネットワークを接続できます。 GRE プロトコルは軽量であり、GRE のサポートはほとんどのネットワーク デバイスで利用できるため、データの暗号化が不要なトンネリングに最適な選択肢です。

S2S トンネルでの GRE のサポートにより、マルチテナント ゲートウェイを使用したテナントの仮想ネットワークとテナントの外部ネットワークの間の転送の問題が解決されます。

### <a name="layer-3-forwarding"></a>レイヤー 3 転送

レイヤー 3 (L3) 転送により、データセンターの物理インフラストラクチャと、Hyper-V ネットワーク仮想化クラウドの仮想化インフラストラクチャ間の接続が可能になります。 L3 転送接続を使用すると、テナント ネットワークの VM から、 SDN ゲートウェイを通して物理ネットワークに接続できます。これは、ソフトウェアによるネットワーク制御 (SDN) 環境に既に構成されています。 この場合、SDN ゲートウェイは、仮想ネットワークと物理ネットワーク間のルーターとして機能します。

### <a name="dynamic-routing-with-bgp"></a>BGP を使用した動的ルーティング

BGP を使用するとルーター上で手動でルートを構成する必要性が減ります。それは、BGP が動的ルーティング プロトコルであり、サイト間 VPN 接続を使用して接続されているサイト間のルートが自動的に学習されるためです。 RAS ゲートウェイなどの BGP 対応ルーターを使用して接続された複数のサイトが組織に存在する場合、ネットワークの中断や障害が発生したときは、BGP により、ルーター間の有効なルートが自動的に計算されて使用されます。

RAS ゲートウェイに含まれる BGP ルート リフレクターにより、ルーター間のルート同期に必要な BGP 完全メッシュ トポロジの代替手段が提供されます。 詳細については、「[ルート リフレクターの概要](route-reflector-overview.md)」を参照してください。

## <a name="how-ras-gateway-works"></a>RAS ゲートウェイのしくみ

RAS ゲートウェイにより、場所に関係なく、物理ネットワークと VM ネットワーク リソース間のネットワーク トラフィックがルーティングされます。 物理的に同じ場所でも、または多くの異なる場所でも、ネットワーク トラフィックをルーティングできます。

複数の機能が同時に使用される高可用性プールに、RAS ゲートウェイを展開できます。 ゲートウェイ プールには、高可用性とフェールオーバーのために、RAS ゲートウェイの複数のインスタンスが含まれています。

プール内のゲートウェイ VM を追加または削除することで、ゲートウェイ プールを簡単にスケールアップまたはスケールダウンできます。 ゲートウェイを削除または追加しても、プールによって提供されるサービスは中断されません。 また、ゲートウェイのプール全体を追加および削除することもできます。 詳細については、「[RAS ゲートウェイの高可用性](/windows-server/networking/sdn/technologies/network-function-virtualization/ras-gateway-high-availability)」を参照してください。

すべてのゲートウェイ プールで、M+N の冗長性が提供されています。 これは、"M" 個のアクティブ ゲートウェイ VM が、"N" 個のスタンバイ ゲートウェイ VM によってバックアップされることを意味します。 M+N の冗長性を使用すると、RAS ゲートウェイを展開するときに必要な信頼性のレベルを柔軟に決定できます。

1 つのパブリック IP アドレスを、すべてのプールに、またはプールのサブセットに、割り当てることができます。 このようにすると、すべてのテナントが単一の IP アドレスでクラウドに接続できるため、使用する必要のあるパブリック IP アドレスの数が大幅に減ります。

## <a name="next-steps"></a>次のステップ

関連情報については、以下もご覧ください。

- [RAS ゲートウェイの展開アーキテクチャ](/windows-server/networking/sdn/technologies/network-function-virtualization/ras-gateway-deployment-architecture)
- [ネットワーク コント ローラーの概要](network-controller-overview.md)
- [ネットワーク コントローラーのデプロイを計画する](network-controller.md)
- [Azure Stack HCI における SDN](software-defined-networking.md)