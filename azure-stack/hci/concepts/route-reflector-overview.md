---
title: Azure Stack HCI での BGP ルート リフレクターの概要
description: このトピックでは、Azure Stack HCI でのソフトウェアによるネットワーク制御に対する BGP ルート リフレクターについて説明します。
author: khdownie
ms.author: v-kedow
ms.topic: overview
ms.service: azure-stack
ms.subservice: azure-stack-hci
ms.date: 10/8/2020
ms.openlocfilehash: ca130c60e8cf08484001f606c4d0f84d786ca16b
ms.sourcegitcommit: 1621f2748b2059fd47ccacd48595a597c44ee63f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/08/2020
ms.locfileid: "91858990"
---
# <a name="what-is-route-reflector"></a>ルート リフレクターの概要

> 適用対象:Azure Stack HCI バージョン 20H2、Windows Server 2019

Border Gateway Protocol (BGP) ルート リフレクターは[リモート アクセス サービス (RAS) ゲートウェイ](gateway-overview.md)に含まれ、それによってルーター間のルート同期に必要な BGP 完全メッシュ トポロジの代替手段が提供されます。 ソフトウェアによるネットワーク制御の展開におけるルート リフレクターは、RAS ゲートウェイと[ネットワーク コントローラー](network-controller-overview.md)の間のコントロール プレーン上に配置される論理エンティティです。 ただし、データ プレーンのルーティングには関わりません。

## <a name="how-route-reflector-works"></a>ルート リフレクターのしくみ

フル メッシュ同期の場合、すべての BGP ルーターがルーティング トポロジ内の他のすべてのルーターと接続している必要があります。 ただし、ルート リフレクターを使用すると、ルート リフレクターだけが他のすべてのルーター (BGP ルート リフレクター クライアントと呼ばれます) と接続するので、ルートの同期が簡素化され、ネットワーク トラフィックが減少します。 ルート リフレクターにより、すべてのルートが把握され、最適なルートが計算されて、BGP クライアントに最適なルートを再分配されます。

複数の RAS ゲートウェイ仮想マシン (VM) で終了するように、個々のテナントのリモート アクセス トンネルを構成できます。 これにより、テナント接続のすべての帯域幅要件を 1 つの RAS ゲートウェイ VM では満たすことができない状況での、クラウド サービス プロバイダー (CSP) の柔軟性が向上します。

ただし、この機能を使用すると、ルート管理と、テナントのリモート サイトとクラウド データセンター内の仮想リソースとの間のルートの効果的な同期に関して、複雑さが増します。 テナントに複数の RAS ゲートウェイへの接続を提供すると、エンタープライズ側での構成もさらに複雑になり、テナント サイトごとにルーティング近隣ノードが異なるようになります。

コントロール プレーンの BGP ルート リフレクターにより、これらの問題が対処され、CSP 内部のファブリックの展開がエンタープライズ テナントに対して透過的になります。

- データセンターに新しいテナントを追加すると、ネットワーク コントローラーによって、最初のテナント RAS ゲートウェイがルート リフレクターとして自動的に構成されます。

- 各テナントに対応するルート リフレクターがあり、そのテナントに関連付けられている RAS ゲートウェイ VM の 1 つに存在します。

- テナントのルート リフレクターは、そのテナントに関連付けられているすべての RAS ゲートウェイ VM に対するルート リフレクターとして機能します。 RAS ゲートウェイ ルート リフレクター以外のテナント ゲートウェイは、ルート リフレクター クライアントです。 ルート リフレクターによって、すべてのルート リフレクター クライアント間のルート同期が実行され、実際のデータ パス ルーティングが可能になります。

- ルート リフレクターにより、それが構成されている RAS ゲートウェイに対してサービスが提供されることはありません。

- ネットワーク コントローラーは、ルート リフレクターによって、テナントのエンタープライズ サイトに対応するエンタープライズ ルートを使用して更新されます。 これにより、ネットワーク コントローラーにおいて、エンドツーエンドのデータ パス アクセスのために、テナントの仮想ネットワークに必要な Hyper-V ネットワーク仮想化ポリシーを構成できるようになります。

- 企業のお客様がカスタマー アドレス空間で BGP ルーティングを使用する場合、RAS ゲートウェイ ルート リフレクターは、対応するテナントのすべてのサイトに対する唯一の外部 BGP (eBGP) 近隣ノードになります。 これは、エンタープライズ テナントのトンネル終了ポイントに関係なく当てはまります。 つまり、CSP データセンター内のどの RAS ゲートウェイ VM によって、テナント サイトのサイト間 VPN トンネルが終了されるかにかかわらず、すべてのテナント サイトの eBGP ピアはルート リフレクターです。

## <a name="next-steps"></a>次のステップ

関連情報については、以下もご覧ください。

- [RAS ゲートウェイの概要](gateway-overview.md)
- [RAS ゲートウェイの展開アーキテクチャ](/windows-server/networking/sdn/technologies/network-function-virtualization/ras-gateway-deployment-architecture)
- [インターネット技術標準化委員会 (IETF) の Request for Comments トピック RFC 4456 BGP ルート リフレクション: フル メッシュ内部 BGP の代替手段](https://tools.ietf.org/html/rfc4456)