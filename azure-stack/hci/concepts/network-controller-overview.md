---
title: Azure Stack HCI でのネットワーク コントローラーの概要
description: このトピックでは、Azure Stack HCI でのソフトウェアによるネットワーク制御に対するネットワーク コントローラーについて説明します。
author: khdownie
ms.author: v-kedow
ms.topic: overview
ms.service: azure-stack
ms.subservice: azure-stack-hci
ms.date: 10/8/2020
ms.openlocfilehash: c207b436571d85d0902cd69a2168144e176919b1
ms.sourcegitcommit: 6a0f7f452998c404a80ca9d788dbf3cdf4d78b38
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/09/2020
ms.locfileid: "91893902"
---
# <a name="what-is-network-controller"></a>ネットワーク コントローラーの概要

> 適用対象: Azure Stack HCI バージョン 20H2、Windows Server 2019

ネットワーク コントローラーは、ソフトウェアによるネットワーク制御 (SDN) の管理の基礎となります。 高度にスケーラブルなサーバーの役割であり、仮想ネットワーク インフラストラクチャの管理、構成、監視、トラブルシューティングを行うための、一元的でプログラミング可能な自動化のポイントが提供されます。

ネットワーク コントローラーを使用すると、ネットワーク デバイスやサービスを手動で構成する代わりに、ネットワーク インフラストラクチャの構成と管理を自動化することができます。

## <a name="how-network-controller-works"></a>ネットワーク コントローラーのしくみ

ネットワーク コントローラーにより、ネットワーク コントローラーがネットワーク デバイス、サービス、コンポーネントと通信して管理できるようにする 1 つのアプリケーション プログラミング インターフェイス (API) (Southbound API) と、管理アプリケーションがネットワーク コントローラーに必要なネットワークの設定とサービスを伝えることができるもう 1 つの API (Northbound API) が提供されます。

ネットワーク コントローラーで Southbound API を使用することにより、ネットワーク デバイスとネットワーク サービスを管理し、ネットワークについて必要なすべての情報を収集できます。 ネットワーク コントローラーによってネットワーク デバイスとサービスの状態が継続的に監視され、望ましい状態からの構成のずれがすべて修復されることが保証されます。

ネットワーク コントローラーの Northbound API は、REST インターフェイスとして実装されています。 それを使用すると、管理アプリケーションからデータセンター ネットワークを管理できます。 ユーザーは、管理を行うとき、REST API を直接使用したり、REST API 上に構築された Windows PowerShell を使用したり、Windows Admin Center や System Center Virtual Machine Manager などのグラフィカル ユーザー インターフェイスを備えた管理アプリケーションを使用したりできます。

## <a name="network-controller-features"></a>ネットワーク コントローラーの機能

ネットワーク コントローラーを使用すると、仮想ネットワーク、ファイアウォール、ソフトウェア ロード バランサー、RAS ゲートウェイなどの SDN の機能を管理できます。 多くの機能の一部を次に示します。

### <a name="virtual-network-management"></a>仮想ネットワークの管理

ネットワーク コントローラーのこの機能を使用すると、Hyper-V ネットワーク仮想化を展開して構成し、個々の VM に仮想ネットワーク アダプターを構成し、仮想ネットワーク ポリシーを格納して配布することができます。 この機能を使用すると、仮想ネットワークとサブネットを作成し、これらのネットワークに仮想マシン (VM) をアタッチして、同じ仮想ネットワーク内の VM 間の通信を有効にすることができます。

ネットワーク コントローラーにより、仮想ローカル エリア ネットワーク (VLAN) ベースのネットワーク、Network Virtualization Generic Routing Encapsulation (NVGRE)、Virtual Extensible Local Area Network (VXLAN) がサポートされています。

## <a name="firewall-management"></a>ファイアウォール管理

ネットワーク コントローラーのこの機能を使用すると、データセンターにおける内部 (東西) と外部 (南北) 両方のネットワーク トラフィックについて、ワークロード VM に対する許可/拒否ファイアウォール アクセス制御規則を構成および管理できます。 ファイアウォール規則は、ワークロード VM の vSwitch ポートで構成されるため、データセンターのワークロード全体に配布され、ワークロードと共に伝達されます。

Northbound API を使用すると、ワークロード VM の受信と送信両方のトラフィックに対して、ファイアウォール規則を定義できます。 また、規則で許可または拒否されたトラフィックをログに記録するように、各ファイアウォール規則を構成することもできます。

## <a name="software-load-balancer-management"></a>ソフトウェア ロード バランサーの管理

[ソフトウェア ロード バランサー](software-load-balancer.md)を使用すると、複数のサーバーで同じワークロードをホストでき、高可用性とスケーラビリティを実現できます。 ソフトウェア ロード バランサーを使用すると、負荷分散、受信ネットワーク アドレス変換 (NAT)、および従来の VLAN ネットワークと仮想ネットワークに接続されたワークロードに対するインターネットへの送信アクセスを、構成して管理できます。

## <a name="gateway-management"></a>ゲートウェイの管理

[リモート アクセス サービス (RAS) ゲートウェイ](gateway-overview.md)を使用すると、ゲートウェイ プールのメンバーである VM を展開、構成、管理することができ、顧客のワークロードへの外部ネットワーク接続が提供されます。 ゲートウェイを使用すると、仮想ネットワークとリモート ネットワークの間で次の接続の種類がサポートされます。

- IPsec を使用したサイト間仮想プライベート ネットワーク (VPN) ゲートウェイ接続
- Generic Routing Encapsulation (GRE) を使用したサイト間 VPN ゲートウェイ接続
- レイヤー 3 の転送機能
 
ゲートウェイ接続により、動的ルート管理のための Border Gateway Protocol (BGP) がサポートされます。

## <a name="virtual-appliance-chaining"></a>仮想アプライアンスのチェーン

ネットワーク コントローラーのこの機能を使用すると、仮想ネットワークに仮想ネットワーク アプライアンスをアタッチできます。 これらのアプライアンスは、高度なファイアウォール、負荷分散、侵入検出と防止、およびその他多くのネットワーク サービスに使用できます。 ユーザー定義のルーティング機能とポート ミラーリング機能を実行する仮想アプライアンスを追加できます。 ユーザー定義のルーティングを使用すると、仮想アプライアンスは仮想ネットワーク上の仮想サブネット間のルーターとして使用されます。 ポート ミラーリングを使用すると、監視対象のポートを出入りするすべてのネットワーク トラフィックが複製されて、分析のために仮想アプライアンスに送信されます。

ユーザー定義ルートの詳細については、「[仮想ネットワークでネットワーク仮想アプライアンスを使用する](/windows-server/networking/sdn/manage/use-network-virtual-appliances-on-a-vn)」を参照してください。

## <a name="network-controller-deployment-considerations"></a>ネットワーク コントローラーの展開に関する考慮事項

- ネットワーク コントローラー サーバー ロールを物理ホストに展開しないでください。 ネットワーク コントローラーは、専用の VM に展開する必要があります。

- ドメインと非ドメイン環境の両方のネットワーク コント ローラーを展開することができます。 ドメイン環境でネットワーク コント ローラーのユーザーとネットワーク デバイスを使用して認証 Kerberos です。非ドメイン環境では、認証に証明書を展開する必要があります。

- ネットワーク コントローラーを展開するときは、高可用性を提供し、データセンターのニーズに合わせて簡単にスケールアップまたはスケールダウンできるようにすることが重要です。 ネットワーク コントローラー アプリケーションで高可用性を実現するには、少なくとも 3 つの VM を使用します。

- 高可用性とスケーラビリティを実現するため、ネットワーク コントローラーは Service Fabric に依存しています。 Service Fabric により、スケーラブルで信頼性が高く管理しやすいアプリケーションを構築するための分散システム プラットフォームが提供されます。 [Service Fabric アプリケーションとしてのネットワーク コントローラーについての詳細を参照してください](/windows-server/networking/sdn/technologies/network-controller/network-controller-high-availability#network-controller-as-a-service-fabric-application)。


## <a name="next-steps"></a>次のステップ

関連情報については、以下もご覧ください。

- [ネットワーク コントローラーのデプロイを計画する](network-controller.md)
- [Windows PowerShell を使用してネットワーク コントローラーを展開する](../deploy/network-controller-powershell.md)
- [Azure Stack HCI における SDN](software-defined-networking.md)