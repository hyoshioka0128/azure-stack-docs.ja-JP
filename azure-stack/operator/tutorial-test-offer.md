---
title: Azure Stack Hub サービス オファリングをテストする
description: サブスクリプションを作成してリソースをデプロイすることで、サービス オファリングをテストする方法について説明します。
author: BryanLa
ms.author: bryanla
ms.topic: tutorial
ms.date: 10/13/2019
ms.reviewer: shriramnat
ms.lastreviewed: 10/06/2019
ms.openlocfilehash: b0dd6b5013a19c120d1d8e69594406292ee6ac6c
ms.sourcegitcommit: 6306e0c2506106ad01ff50010f36466f3325d0a8
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/09/2020
ms.locfileid: "84631354"
---
# <a name="tutorial-test-a-service-offering"></a>チュートリアル:サービス オファリングをテストする

前のチュートリアルでは、ユーザーに対するオファーを作成しました。 このチュートリアルでは、オファーを使用してサブスクリプションを作成することにより、オファーをテストする方法を示します。 その後、リソースを作成し、サブスクリプションによって権利を付与された基本サービスにデプロイします。

このチュートリアルでは、以下の内容を学習します。

> [!div class="checklist"]
> * サブスクリプションの作成
> * リソースの作成とデプロイ

## <a name="prerequisites"></a>前提条件

このチュートリアルを始める前に、次の前提条件を満たしている必要があります。

- 「[ユーザーにサービスを提供する](tutorial-offer-services.md)」チュートリアルを完了します。 その中で、このチュートリアルで使用するオファーを作成する方法を学習します。

- このチュートリアルでサブスクライブするオファーでは、仮想マシン (VM) リソースをデプロイできます。 VM のデプロイをテストする場合は、最初に、Azure Marketplace から VM イメージをダウンロードして、Azure Stack Hub Marketplace で使用できるようにする必要があります。 方法については、[Azure から Azure Stack Hub への Marketplace の項目のダウンロード](azure-stack-download-azure-marketplace-item.md)に関する記事を参照してください。 

## <a name="subscribe-to-the-offer"></a>オファーへのサブスクライブ

1. ユーザー アカウントを使用してユーザー ポータルにサインインします 

   - 統合システムの場合、URL はオペレーターのリージョンと外部ドメイン名によって異なり、 https://portal.&lt;*region*&gt;.&lt;*FQDN*&gt; の形式になります。
   - Azure Stack Development Kit を使用している場合、ポータルのアドレスは `https://portal.local.azurestack.external` になります。

1. **[サブスクリプションの取得]** タイルを選択します。

   ![サブスクリプションの取得](media/tutorial-test-offer/1-get-subscription.png)

1. **[サブスクリプションの取得]** で、 **[表示名]** フィールドに、新しいサブスクリプションの名前を入力します。 **[プラン]** を選択してから、前のチュートリアルで作成したオファーを **[プランの選択]** の一覧から選択します。 **［作成］** を選択します

   ![オファーの作成](media/tutorial-test-offer/2-create-subscription.png)

1. サブスクリプションを表示するには、 **[すべてのサービス]** を選択して、 **[一般]** カテゴリで **[サブスクリプション]** を選択します。 新しいサブスクリプションを選択して、関連付けられているオファーと、そのプロパティを表示します。

   >[!NOTE]
   >オファーをサブスクライブした後、どのサービスが新しいサブスクリプションの一部であるかを確認するには、ポータルを更新する必要がある場合があります。

::: moniker range=">=azs-1902"
## <a name="deploy-a-storage-account-resource"></a>ストレージ アカウントのリソースをデプロイする

ユーザー ポータルから、前のセクションで作成したサブスクリプションを使用してストレージ アカウントをプロビジョニングします。

1. ユーザー アカウントを使用してユーザー ポータルにサインインします。

1. **[+ リソースの作成]** > **[データ + ストレージ]** > **[ストレージ アカウント - Blob、File、Table、Queue]** の順に選択します。

1. **[ストレージ アカウントの作成]** で、以下の情報を指定します。
  
   - **名前**を入力する
   - 新しい **[サブスクリプション]** を選択します
   - **[リソース グループ]** を選択します (または作成します)。 
   - **[作成]** をクリックしてストレージ アカウントを作成します。

1. デプロイが開始されると、ダッシュボードに戻ります。 新しいストレージ アカウントを表示するには、 **[すべてのリソース]** を選択します。 ストレージ アカウントを検索し、検索結果からその名前を選択します。 ここから、ストレージ アカウントとその内容を管理できます。

## <a name="deploy-a-virtual-machine-resource"></a>仮想マシンのリソースをデプロイする

ユーザー ポータルから、前のセクションで作成したサブスクリプションを使用して仮想マシンをプロビジョニングします。

1. ユーザー アカウントを使用してユーザー ポータルにサインインします。

1. **[+ リソースの作成]** > **[Compute]** > **\<image-name\>** を選択します。"image-name" は、前提条件でダウンロードした仮想マシンの名前です。
1. **[仮想マシンの作成]** / **[基本]** で、次の情報を入力します。
  
   - VM の **[名前]** を入力します。
   - 管理者アカウントの **[ユーザー名]** を入力します。
   - Linux VM の場合、 **[認証の種類]** で [パスワード] を選択します。
   - **[パスワード]** と **[パスワードの確認]** に、管理者アカウントの同じパスワードを入力します。
   - 新しい **[サブスクリプション]** を選択します。
   - **[リソース グループ]** を選択します (または作成します)。 
   - **[OK]** を選択し、この情報を検証して続行します。

1. **[サイズの選択]** で、必要に応じて一覧をフィルター処理し、VM の SKU を選択して、 **[選択]** を選択します。  
1. **[設定]** の **[パブリック受信ポートを選択]** で開くポートを指定し、 **[OK]** を選択します。
   > [!NOTE]
   > たとえば、"RDP (3389)" を選択すると、実行中に VM にリモート接続できるようになります。
1. **[概要]** で選択を確認し、 **[OK]** を選択して仮想マシンを作成します。  
1. デプロイが開始されると、ダッシュボードに戻ります。 新しい仮想マシンを表示するには、 **[すべてのリソース]** を選択します。 仮想マシンを検索し、検索結果からその名前を選択します。 ここからは、仮想マシンにアクセスして管理することができます。
   > [!NOTE]
   > 完全なデプロイと VM の開始には、数分かかることがあります。 VM が使用できる状態になると、[状態](/azure/virtual-machines/windows/states-lifecycle) が "実行中" に変わります。

::: moniker-end

::: moniker range="<=azs-1901"
## <a name="deploy-a-virtual-machine-resource-1901-and-earlier"></a>仮想マシンのリソースをデプロイする (1901 以前)

ユーザー ポータルから、新しいサブスクリプションを使用して仮想マシンをプロビジョニングします。

1. ユーザー アカウントを使用してユーザー ポータルにサインインします。

1. ダッシュボードで、 **[+ リソースの作成]** > **[Compute]** > **[Windows Server 2016 Datacenter Eval]** の順に選択し、 **[作成]** を選択します。

1. **[基本]** で、次の情報を指定します。
  
   - **名前**を入力する
   - **ユーザー名**を入力する
   - **パスワード**を入力する
   - 新しい**サブスクリプション**を選択する
   - **リソース グループ**を作成する (または既存のものを選択する) 
   - **[OK]** を選択してこのパターンを保存する

1. **[サイズの選択]** で、 **[A1 標準]** を選択し、 **[選択]** を選択します。  
1. **[設定]** で、 **[仮想ネットワーク]** を選択します。

1. **[仮想ネットワークの選択]** で、 **[新規作成]** を選択します。

1. **[仮想ネットワークの作成]** で、すべての既定値をそのまま使用し、 **[OK]** を選択します。

1. **[設定]** で **[OK]** を選択し、ネットワーク構成を保存します。

1. **[概要]** で、 **[OK]** を選択して仮想マシンを作成します。  

1. 新しい仮想マシンを表示するには、 **[すべてのリソース]** を選択します。 仮想マシンを検索し、検索結果からその名前を選択します。
::: moniker-end

## <a name="next-steps"></a>次のステップ

このチュートリアルで学習した内容は次のとおりです。

> [!div class="checklist"]
> * サブスクリプションの作成
> * リソースの作成とデプロイ 

次に、付加価値サービスのリソース プロバイダーのデプロイについて学習します。 プランでユーザーにさらに多くのサービスを提供することができます。

- [Azure Stack Hub で SQL を提供する](azure-stack-sql-resource-provider.md)
- [Azure Stack Hub で MySQL を提供する](azure-stack-mysql-resource-provider.md)
- [Azure Stack Hub で App Service を提供する](azure-stack-app-service-overview.md)
- [Azure Stack Hub で Event Hubs を提供する](event-hubs-rp-overview.md)
