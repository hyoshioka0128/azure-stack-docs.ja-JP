---
title: 更新プログラムの管理
description: Azure Stack Hub 上で更新プログラムを管理する方法について説明します
author: sethmanheim
ms.topic: how-to
ms.date: 09/25/2020
ms.author: sethm
ms.lastreviewed: 07/16/2020
ms.reviewer: niy
ms.openlocfilehash: e769999ce24e1571b93c94a707c62df757460705
ms.sourcegitcommit: bf7b1a394ede397dba2b75f90bdf953b3ff2f2be
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/25/2020
ms.locfileid: "91367225"
---
# <a name="manage-updates-in-azure-stack-hub"></a>Azure Stack Hub での更新プログラム管理

フルおよび高速の更新プログラム、修正プログラム、および OEM (相手先ブランド供給) からのドライバーおよびファームウェアの更新プログラムはすべて、Azure Stack Hub を最新の状態に保つのに役立ちます。 この記事では、さまざまな種類の更新プログラム、それらのリリースが予想されるタイミング、および現在のリリースの詳細を確認できる場所について説明します。

> [!NOTE]  
> Azure Stack Development Kit (ASDK) に Azure Stack Hub 更新プログラム パッケージを適用することはできません。 更新プログラム パッケージは統合システム用に設計されています。 詳細については、[ASDK の再デプロイ](../asdk/asdk-redeploy.md)に関する記事を参照してください。

## <a name="update-package-types"></a>更新プログラム パッケージの種類

統合システムの更新プログラム パッケージには、次の 3 つの種類があります。

- **Azure Stack Hub ソフトウェア更新プログラム**。 Microsoft には、Microsoft ソフトウェア更新プログラム パッケージについて、エンド ツー エンドでサービスを提供し続ける責任があります。 これらのパッケージには、最新の Windows Server のセキュリティ更新プログラム、セキュリティ以外の更新プログラム、Azure Stack Hub の機能更新プログラムが含まれています。 これらの更新プログラム パッケージは Microsoft から直接ダウンロードします。

    各更新プログラム パッケージには、対応する種類があります。**フル**または**高速**です。

    **フル**更新プログラム パッケージでは、スケール ユニット内の物理ホスト オペレーティング システムが更新されるため、より長いメンテナンス期間が必要です。

    **高速**更新プログラム パッケージは範囲が限定されており、基となる物理ホスト オペレーティング システムは更新されません。

- **Azure Stack Hub 修正プログラム**。 Microsoft では、多くの場合、予防的または緊急の特定の問題に対応するために、[Azure Stack Hub の修正プログラム](azure-stack-servicing-policy.md#hotfixes)を提供しています。 各修正プログラムは、問題、原因、および解決方法の詳細が記載された Microsoft のナレッジ ベースの記事に対応してリリースされます。 修正プログラムは、Azure Stack Hub の通常のフル更新プログラム パッケージとまったく同じように、ダウンロードしてインストールします。 修正プログラムは累積的であるため、数分でインストールできます。

   ビルド 2005 以降では、新しいメジャー バージョンに更新すると (たとえば、1.2002.x から 1.2005.x)、その新しいメジャー バージョン内の最新の修正プログラム (存在する場合) が自動的にインストールされます。 それ以降は、ビルドの修正プログラムがリリースされたら、それをインストールする必要があります。

- **OEM ハードウェア ベンダー提供の更新プログラム**。 Azure Stack Hub ハードウェア パートナーには、ハードウェアに関連するファームウェアおよびドライバーの更新プログラム パッケージについて、ガイドを含めエンド ツー エンドでサービスを提供し続ける責任があります。 また、Azure Stack Hub ハードウェア パートナーは、すべてのソフトウェアとハードウェアのハードウェア ライフサイクル ホストに関するガイドを所有して管理します。 OEM ハードウェア ベンダーは、自社のダウンロード サイトでこれらの更新プログラム パッケージを管理します。

## <a name="when-to-update"></a>更新のタイミング

次の頻度で、3 種類の更新プログラムがリリースされます。

- **Azure Stack Hub ソフトウェア更新プログラム**。 Microsoft は、1 年あたり複数のフルおよび急ぎのソフトウェア更新プログラム パッケージをリリースします。

- **Azure Stack Hub 修正プログラム**。 修正プログラムは、いつでもリリースされる可能性がある緊急のリリースです。 あるメジャー バージョンから別のメジャー バージョンに更新すると (たとえば、1.2002.x から 1.2005.x)、新しいメジャー バージョンの最新の修正プログラム (存在する場合) が自動的にインストールされます。

- **OEM ハードウェア ベンダー提供の更新プログラム**。 OEM ハードウェア ベンダーは、必要に応じて随時更新プログラムをリリースします。

サポートを継続して受けるには、Azure Stack Hub 環境を、サポートされる Azure Stack Hub ソフトウェア バージョンで維持する必要があります。 詳細については「[Azure Stack Hub サービス ポリシー](azure-stack-servicing-policy.md)」を参照してください。

## <a name="how-to-know-an-update-is-available"></a>更新プログラムが利用可能になっていることを確認する方法

更新の通知は、インターネットへの接続や更新プログラムの種類など、いくつかの要因によって異なります。

- **Microsoft ソフトウェア更新プログラムおよび修正プログラム**

    Microsoft ソフトウェア更新プログラムと修正プログラムの更新アラートは、インターネットに接続されている Azure Stack Hub インスタンスの **[更新]** ブレードに表示されます。 **[更新]** ブレードが表示されない場合は、インフラストラクチャ管理コントローラー VM を再起動します。

    インスタンスが接続されておらず、各修正プログラムのリリースについて通知を受け取ることを希望する場合は、[RSS](https://support.microsoft.com/app/content/api/content/feeds/sap/en-us/32d322a8-acae-202d-e9a9-7371dccf381b/rss) または [ATOM](https://support.microsoft.com/app/content/api/content/feeds/sap/en-us/32d322a8-acae-202d-e9a9-7371dccf381b/atom) フィードを購読します。

- **OEM ハードウェア ベンダー提供の更新プログラム**

    OEM の更新プログラムは製造元によって異なります。 適用する必要がある OEM からの更新プログラムに気付けるように、OEM との通信チャネルを確立する必要があります。 OEM および OEM 更新プロセスの詳細については、「[Azure Stack Hub に OEM (相手先ブランド供給) 更新プログラムを適用する](azure-stack-update-oem.md)」を参照してください。

### <a name="major-version-to-major-version"></a>メジャー バージョンからメジャー バージョンに

メジャー バージョンからメジャー バージョンへの更新は、段階的に行う必要があります。現在の環境では、次のメジャー バージョンのみに更新できます。メジャー バージョンの更新をスキップすることはできません。

たとえば、Azure Stack Hub 環境が 1908.x のとき、利用できる更新バージョンが 2002.x であれば、1908 から 1910 に更新し、それから 2002 に更新してください。

ビルド 2005 以降では、新しいメジャー バージョンに更新すると (たとえば、1.2002.x から 1.2005.x)、その新しいメジャー バージョン内の最新の修正プログラム (存在する場合) が自動的にインストールされます。

### <a name="hotfixes-within-major-versions"></a>メジャー バージョン内の修正プログラム

同じメジャー バージョン内で、Azure Stack Hub から複数の修正プログラムが公開されることがあります。 修正プログラムが累積仕様です。最新の修正プログラムには、そのバージョンの過去の修正プログラムがすべて含まれています。 詳細については、「[修正プログラム](azure-stack-servicing-policy.md#hotfixes)」を参照してください。

## <a name="update-process"></a>更新処理

更新プログラムがあることに気付いたら、次の手順に従って更新プログラムを適用します。

![Azure Stack Hub 更新プロセス](./media/azure-stack-updates/azure-stack-update-process.svg)

1. **更新を計画する**

    ユーザーへの影響が最小限になるように、可能な限り円滑に更新プロセスを進めるために Azure Stack Hub を準備します。 サービス停止の可能性についてユーザーに通知し、手順に従って、更新のためのインスタンスを準備します。 必ず、[Azure Stack Hub 更新前チェックリスト](release-notes-checklist.md)のすべての手順に従って、更新プログラムを適用するために必要な前提条件を完了します。 また、適用する更新プログラムの種類に応じた適切なメンテナンス期間を必ずスケジュールしてください。

2. **更新プログラム パッケージをアップロードして準備する**

    インターネットに接続された Azure Stack Hub 環境では、Azure Stack Hub ソフトウェア更新プログラムおよび修正プログラムが自動的にシステムにインポートされ、更新用に準備されます。

    インターネットに接続されていない Azure Stack Hub 環境やインターネット接続が脆弱または途切れがちな環境の場合は、Azure Stack Hub 管理者ポータル経由で、更新プログラム パッケージを Azure Stack Hub ストレージにインポートします。 更新プログラム パッケージをアップロードして準備する詳細な手順については、[Azure Stack Hub 更新プログラム パッケージのアップロードと準備](azure-stack-update-prepare-package.md)に関するページを参照してください。

    すべての OEM 更新プログラム パッケージは、Azure Stack Hub システムのインターネット接続に関係なく、手動で環境にインポートします。 更新プログラム パッケージをインポートして準備する詳細な手順については、[Azure Stack Hub 更新プログラム パッケージのアップロードと準備](azure-stack-update-prepare-package.md)に関するページを参照してください。

3. **更新プログラムを適用する**

    Azure Stack Hub ポータルの **[更新]** ブレードを使用して、更新プログラムを適用します。 更新時に、更新の進行状況を監視してトラブルシューティングを行います。 詳しくは、[Azure Stack Hub 更新プログラムの適用](azure-stack-apply-updates.md)に関するページを参照してください。

## <a name="the-update-resource-provider"></a>更新リソース プロバイダー

Azure Stack Hub には、Microsoft ソフトウェア更新プログラムの適用を処理する更新リソース プロバイダーが含まれています。 このプロバイダーによって、すべての物理ホスト、Service Fabric アプリとランタイム、すべてのインフラストラクチャ仮想マシンとその関連サービスにわたって、更新プログラムが適用されていることが確認されます。

更新プログラムをインストールする際には、更新プロセスによって Azure Stack Hub 内のさまざまなサブシステム (例: 物理ホスト、インフラストラクチャ仮想マシン) がターゲットになっていく状況の概要を確認できます。

## <a name="next-steps"></a>次のステップ

- 更新プロセスを開始するには、「[Azure Stack Hub 更新アクティビティのチェックリスト](release-notes-checklist.md)」の手順に従ってください。
- サポートされている Azure Stack Hub のバージョンについては、「[Azure Stack Hub サービス ポリシー](azure-stack-servicing-policy.md)」を参照してください。  
- 現在および最新の更新プログラムの詳細については、[Azure Stack Hub のリリースノート](release-notes.md)を参照してください。
